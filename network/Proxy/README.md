# IP 가리기
# [VPN과 프록시](https://www.youtube.com/watch?v=hjRQzHeirw8&list=PLLcbGhhl4sQDOYzzB8eNB7m0IdVffIyLM&index=32)
# [토르 브라우저](https://www.youtube.com/watch?v=A3-moPb-_ls&list=PLLcbGhhl4sQDOYzzB8eNB7m0IdVffIyLM&index=33)
# [시크릿 모드](https://www.youtube.com/watch?v=f_vO6doXaxQ&list=PLLcbGhhl4sQDOYzzB8eNB7m0IdVffIyLM&index=29)
# [Forward Proxy](https://www.youtube.com/watch?v=lg-wHikZg0Q&list=PLgXGHBqgT2TvpJ_p9L_yZKPifgdBOzdVH&index=32)
# [Proxy와 LoadBalencer](https://www.youtube.com/watch?v=YxwYhenZ3BE&list=PLgXGHBqgT2TvpJ_p9L_yZKPifgdBOzdVH&index=1)


# 프록시
* 서버와 클라이언트 사이의 중계기로서 클라이언트 대신 서버와 대리로 통신을 수행
* 클라이언트가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있는 서버
* 서버와 클라이언트 사이의 중계기 역할을 한다.
* 처음: 속도를 위해 나왔다. 이미 빨라진지금 보안을 위해서 사용. (프록시에 사용자마다의 캐쉬가 등록)
* 사용자 - 프록시(프록시만의 IP; ex)2.2.2.2) - 인터넷

## 프록시 서버 역할
* 클라이언트 대신 서버에세 요청을 받아 응답을 해준다
* 캐시를 통해 자원들을 저장할 수 있다
* 프록시 서버를 거치는 요청 및 응답을 확인할 수 있다
    * TransCoder: 프록시 서버로 넘어온 데이터를 조작할 수 있다
        * 네트워크 비용 감소, 웹 서버의 역할 감소
    * Anonymizer(익명화)
        * 프록시 서버로 넘어온 데이터를 조작할 수 있다
* 프록시 서버로 넘어온 데이터를 조작할 수 있다
* 필터
    * 프록시 서버를 거치는 요청 및 응답을 확인할 수 있다
    * 보안성 향상
    * 프록시를 통한 모든 요청/응답 로깅



## 순방향 Proxy(Forward Proxy)
* 클라이언트 대신 요청을 보내준다
* 내부망에서 외부망으로 접근할때, 먼저 Forward Proxy서버를 거쳐서 외부망에 연결되는 방식이다.
* Proxy Server에서 In/Out bound패킷에 대한 보안 정책을 적용할 수 있다.
* Proxy Server는 내부에 Cache를 유지하면 이미 한번 통신한 외부 자원이 있을경우 프록시 서버에서 캐싱처리를 해서 성능향상에 도움이 된다.

# 역방향 Proxy(Reverse Proxy)
* 서버의 응답을 대신 클라이언트에게 전달해준다
* 외부에서 내부 서버가 제공하는 서비스 접근시, Proxy서버를 거쳐서 내부 서버로 접근하는 방식이다.
* 외부 사용자는 내부망의 서버 존재를 모른다. 모든 접속은 Reverse Proxy서버에게 들어오면, Reverse Proxy는 요청에 맵핑되는 내부 서버에게 요청을 넘긴다. (내부서버 정보를 외부로부터 숨긴다)
* Reverse Proxy서버가 내부 서버의 정보를 맵핑한 상태이기 때문에, 로드밸런싱을 통해 부하 분산이 가능하다
정적 컨텐츠 캐싱처리 가능

## 로드 밸런싱
* 여러 대의 서버에 요청을 나누어 진행할 수 있도록 결정해주는 작업

### 사용하는 이유
```java
프록시 서버 는 클라이언트가 자신을 통해서 다른 네트워크 서비스에 간접적으로 접속할 수 있게 해 주는 컴퓨터나 응용 프로그램을 가리킨다. 
서버와 클라이언트 사이에서 중계기로서 대리로 통신을 수행하는 기능을 가리켜 ‘프록시’, 그 중계 기능을 하는 것을 프록시 서버라고 부른다. 
프록시 서버는 프록시 서버에 요청된 내용들을 캐시를 이용하여 저장해 둔다. 
이렇게 캐시를 해 두고 난 후에, 캐시 안에 있는 정보를 요구하는 요청에 대해서는 원격 서버에 접속하여 데이터를 가져올 필요가 없게 됨으로써 
전송 시간을 절약할 수 있게 됨과 동시에 불필요하게 외부와의 연결을 하지 않아도 된다는 장점을 갖게 된다. 
또한 외부와의 트래픽을 줄이게 됨으로써 네트워크 병목 현상을 방지하는 효과도 얻을 수 있게 된다.

* 정리
프록시 서버의 사용 목적은 잠재적으로 다양하다:
익명으로 컴퓨터를 유지 (주로 보안을 위하여)
캐시를 사용하여 리소스로의 접근을 빠르게 하기 위해. 웹 프록시는 웹 서버로부터 웹 페이지를 캐시로 저장하는 데 흔히 쓰인다.
네트워크 서비스나 콘텐츠로의 접근 정책을 적용하기 위해. (이를테면 원치 않는 사이트를 차단)
사용률을 기록하고 검사하기 위해 (이를테면 회사는 인터넷 이용을 파악)
보안 및 통제를 뚫고 나가기 위해
바이러스 전파, 악성 루머 전파, 다른 정보들을 빼낼 목적으로
역으로 IP추적을 당하지 않을 목적으로
전달에 앞서 악성 코드를 목적으로 전달된 콘텐츠를 검사하기 위해
밖으로 나가는 콘텐츠를 검사하기 위해 (데이터 유출 보호)
지역 제한을 우회하기 위해
```

### VPN
* 사용자 - AES(보안) - VPN - 인터넷
* 암호화 기능 보유; VPN에서 복호화/암호해독 시전
* IPTracker에서 확인하면 다른 지역이 나옴
* 몇몇 나라에서는 불법이지만 아직 한국은 불법이 아니다.
* VPN에 따라 로그를 남기는지 안남기는지에 따라서 완전한 익명성을 보존하는지 아닌지가 다름

#### VPN과 프록시의 공통점
* 유저와 인터넷 사이에 거쳐가면서 내 IP 정보를 숨길 수 있음

#### VPN과 프록시의 차이
* VPN은 데이터를 암호화해서 전달하고 암호화해서 받음
[거니의 VPN](https://www.youtube.com/watch?v=hjRQzHeirw8&list=PLLcbGhhl4sQDOYzzB8eNB7m0IdVffIyLM&index=27)

### 토르 브라우저
* 사용자 - 입구노드 - 중계 노드 - 출구 노드 - 인터넷
   * 노드 마다 계속 데이터를 암호화 시킴 
   * 입구노드와 중계노드는 출발지/목적지를 모르고 인터넷은 데이터가 출구노드에서 온 것으로 인식함
   * 일반 사용자도 토드의 노드가 될 수 있고 법적인 처벌을 받지 않는다.
      * 제재를 당하더라도 입구 노드와 출구 노드만 안되지 브릿지 역할은 가능하다.
* 파이어폭스를 기반으로 한 브라우저
* [거니의 토르 브라우저](https://www.youtube.com/watch?v=A3-moPb-_ls&list=PLLcbGhhl4sQDOYzzB8eNB7m0IdVffIyLM&index=28)
* 수사기관은 토르를 설치한 사용자를 바로 해킹해서 수사하다가 문제 생김
   * Active x나 java가 인터넷으로 바로 통하는 프로그램을 조사해서 조사
   * 경찰이 브릿지의 역할을 하면서 조사

#### 딥웹/다크웹
* 토르 브라우저를 사용해야만 입장 가능

## 프록시 서버의 역할
```java
프록시 서버의 프록시(Proxy)는 영어로 ‘대리’라는 뜻이다.
프록시 서버는 그 이름처럼 클라이언트로부터 인터넷에 대한 통신을 대리로 수행하는 서버이다.
클라이언트의 통신을 일단 받아 클라이언트를 대신하여 인터넷에 액세스한다.
사람에 따라서는 프록시 서버나 캐시 서버라고 부른다.

예전에 프록시 서버는 자주 열람하는 웹 사이트의 데이터를 일시적으로 저장하였다가 클라이언트에게 반환하는 캐시 기능을 메인으로 이용
최근에는 캐시 기능의 효과가 적은 동적 웹 페이지가 많아지고 회선 대역 자체가 넓어졌기 때문에
캐시 목적만으로 프록시 서버를 도입하는 경우는 줄고있다.
```

## 프록시 서버의 보안 기능의 강화
```java
최근의 프록시 서버는 URL 필터링이나 안티 바이러스등과 같이 보안 기능을 강화,발전중이다.
URL 필터링은 액세스할 수 있는 사이트를 한정하는 기능이다.
여러 사이트의 URL을 카테고리별로 분류하여 DB에 저장
예를 들어 ‘위법성, 성인사이트’등과 같은 식으로 분류

프록시 서버는 클라이언트가 액세스하려는 URL을 보고 DB와 대조하여 액세스 허가 또는 거부를 판단
안티 바이러스는 바이러스 대책 기능이다.
프록시 서버는 바이러스 대책 SW의 정의 파일과 같은 것을 시그니처로서 저장한다.
프록시 서버는 클라이언트가 주고받는 파일을 일단 내부에서 열어 시그니처와 대조한다.
```
