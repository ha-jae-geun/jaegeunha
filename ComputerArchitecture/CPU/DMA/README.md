# 문제
```java
29. DMA에 대한 설명으로 가장 옳은 것은?  4번
① 인코더와 같은 기능을 수행한다.
② inDirect Memory Acknowledge의 약자이다.
③ CPU와 메모리 사이의 속도차이를 해결하기 위한 장치이다.
④ 메모리와 입출력 디바이스 사이에 데이터의 주고받음이 직
접 행해지는 기법이다.


36. 인터럽트와 비교하여 DMA방식에 의한 사이클 스틸의 가장  4번
특징 적인 차이점으로 옳은 것은?
① 수행 중인 프로그램을 대기상태로 전환
② 정지 상태인 프로그램을 완전히 소멸
③ 대기 중인 프로그램을 다시 실행
④ 주기억 장치 사이클의 특정한 주기만 정지
```

```java
 메모리 직접 접근 I/O(Direct Memory Access : DMA)    
   - 인터럽트 방식이 프록램에 의한 입출력 방식보다는 효율적이지만 입출력을 위한 상태정보, 
   제어정보, 데이터 전송을 위해서는 여전히 CPU의 능동적인 개입이 요구됨
```

# [DMA](https://m.blog.naver.com/PostView.nhn?blogId=sira1026&logNo=20001344940&proxyReferer=https:%2F%2Fwww.google.com%2F)
```java
1. DMA(Direct Memory Access)의 개요


   가. DMA의 정의
   - CPU를 대신하여 I/O장치와 Memory사이의 데이터전송을 담당하는 장치를 지칭
   - CPU의 개입 없이 주변장치와 주기억장치와의 데이터 전송이 이루어지는 방법을 통칭

   나. DMA의 작동 개념도
   

   다. DMA의 특징
   - CPU의 개입없이 주변장치와 주기억장치와의 데이터 직접 전송
   - 프로그램 수행 중 입출력을 위한 인터럽트의 발생 횟수를 최소화하여 컴퓨터 시스템의 효율을 높임
   - CPU는 DMA와 상태정보 및 제어정보만을 주고 받음
   - 속도가 빠른 디스크, 테이프 등에 사용됨

  2. 입출력 처리방식의 종류


   가. 프로그램에 의한 I/O
   - CPU상에서 실행되는 프로그램에 의해 입출력이 직접 제어
   - CPU는 입출력 장치에 명령을 보낸 후 동작이 완료될 때까지 대기
   - CPU는 주기적으로 주변장치의 상태를 반복적으로 검사, 폴링방식
   - CPU는 자원낭비 발생

   나. 인터럽트 처리에 의한 I/O
   - 입출력 인터페이스가 주변장치의 상태를 검사하여 준비상태가 되면 인터럽트라 신호를 발생하여 입출력 처리를 요구하는 방식
   - CPU는 그전에 수행되던 프로그램의 상태를 스택에 저장한 후 Context Switching과정을 통해 인터럽트 서비스 프로그램 수행
   - 주변장치에 명령을 보낸 후 주변장치로 부터 결과가 올 때까지 CPU는 다른 작업을 수행할 수 있으므로 효율성 증가
   - 프로그램에 의한 I/O의 문제점 개선

   다. 메모리 직접 접근 I/O(Direct Memory Access : DMA)    - 인터럽트 방식이 프록램에 의한 입출력 방식보다는 효율적이지만 
   입출력을 위한 상태정보, 제어정보, 데이터 전송을 위해서는 여전히 CPU의 능동적인 개입이 요구됨
   
   - CPU는 상태정보, 제어정보만을 교환하게 하고 데이터 전송은 주변장치와 주기억장치간에 직접 교환되게 하는 방식이 더 효율적
   - DMA를 사용하기 위해서는 시스템 버스상에 모듈이 하나 추가
   - Hardwired Controller가 CPU대신 입출력 담당, CPU는 입출력 관련정보를 포함한 명령을 DMA에 보낸 후 다른 일을 계속
   - DMA모듈은 CPU를 통하지 않고 한번에 한 단어씩 직접 기억장치로 부터 모든 데이터 블록을 전송
   - 전송이 완료되면 DMA모듈은 CPU에게 인터럽트 신호를 보내고 CPU는 전송의 시작과 끝 부분에만 관여

   라. 채널에 의한 I/O
   - DMA 개념을 확장하여 구현한 입출력만을 위한 전용처리장치
   - CPU처럼 독자적으로 주기억장치에 저장된 명령어를 처리할 수 있는 능력
   - 입출력 채널은 CPU의 개입없이 입출력 처리를 수행
   - 두 가지 종류의 채널
     1) 선택채널(Selector Channel) : 한 번에 하나의 입출력 장치 제어
     2) 다중화채널(Multiplexor Channel) : 한번에 여러 장치에 대한 입출력 제어, 저속장치에는 바이트 다중화 채널, 고속장치에는 블록 다중화 채널 이용

  3. Cycle Stealing의 개념 및 유사 개념 비교


   가. DMA 전송방식인 Cycle Stealing의 개념
   - CPU와 DMA가 동시에 버스를 사용하고자 할 때 DMA에게 먼저 제어권을 넘겨주는 것
   - DMA 제어기가 한번에 한 데이터 워드를 전송하고 버스의 사용권을 CPU에게 반환
   - CPU측에서는 자신의 동작의 지연없이 한번의 메모리 사이클릉 DMA에게 양보


   나. DMA와 유사한 개념 비교

1. Polling	
- CPU가 수시로 각 주변장치들의 인터럽트 요구를 확인
- 주변 장치 상태 보존 안함
- CPU의 시간낭비, 처리효율 감소
- 프로그램 제어하의 직접 입출력 방식	

2. Interrup	
- 주변장치에서 CPU로 들어오는 보고만 접수
- 주변장치 상태 보존
- CPU 처리효율 증대
- 인터럽트 서비스 루틴에 의한 처리	


3. Cycle Stealing
- DMA 모듈이 버스사용을 위해 CPU동작을 일시중단
- 상태정보 저장안함
- 버스사이클 동안 잠시 CPU 정지
```

## 입출력 처리 방식의 종류
```java
빠른 순위 

채널에 의한 I/O
메모리 직접 접근 I/O(DMA)
인터럽트 처리에 의한 I/O
프로그램에 의한 I/O



프로그램에 의한 I/O

CPU상에서 실행되는 프로그램에 의해 입출력이 직접 제어
CPU는 입출력 장치에 명령을 보낸 후 동작이 완료될 때까지 대기
CPU는 주기적으로 주변장치의 상태를 반복적으로 검사, 폴링 방식
CPU는 자원낭비 발생
```

## DMA의 특징
```java
실제 CPU가 Control하는 건 DMAC (DMA Controller)를 Control 해주는 과정을 의미합니다.

CPU를 대신하여 I/O장치와 Memory사이의 데이터전송을 담당하는 장치를 지칭
CPU의 개입 없이 주변장치(입출력장치)와 주기억장치와의 데이터 전송이 이루어지는 방법을 통칭
CPU와 주기억장치만이 시스템 버스에 접근할 수 있고 입출력장치는 DMA와 같은 입출력 제어기에 의해 시스템 버스에 접근할 수 있다.


CPU의 개입 없이 주변장치와 주기억장치와의 데이터 직접 전송
프로그램 수행 중 입출력을 위한 인터럽트의 발생 횟수를 최소화하여 컴퓨터 시스템의 효율을 높임
CPU는 DMA와 상태정보 및 제어정보만을 주고 받음
속도가 빠른 디스크, 테이프 등에 사용됨
DMA는 기억장치 접근을 위해 CPU의 시스템 버스 사용권을 일시적으로 뺏는 사이클 스틸링(Cycle Stealing)을 수행한다. 
시스템 버스에 대해 CPU보다 DMA의 우선순위가 높다.
DMA제어기와 CPU가 시스템 버스를 공유한다.
```

# [채널](https://devkim93.tistory.com/entry/%EC%9E%85%EC%B6%9C%EB%A0%A5-%EC%A0%9C%EC%96%B4-%EB%B0%A9%EC%8B%9D)

```java
메모리 직접 접근 I/O(DMA)
인터럽트 방식이 프로그램에 의한 입출력 방식보다는 효율적이지만 입출력을 위한 상태정보, 제어정보, 데이터 전송을 위해서는 여전히 CPU의 능동적인 개입이 요구됨
CPU는 상태정보, 제어정보만을 교환하게 하고 데이터 전송은 주변장치와 주기억장치간에 직접 교환하게 하는 방식이 더 효율적
DMA를 사용하기 위해서는 시스템 버스상에 모듈이 하나 추가
DMA모듈은 CPU를 통하지 않고 한번에 한 단어씩 직접 기억장치로부터 모든 데이터 블록을 전송
전송이 완료되면 DMA모듈은 CPU에게 인터럽트 신호를 보내고 CPU는 전송의 시작과 끝 부분에만 관여


채널에 의한 I/O
DMA 개념을 확장하여 구현한 입출력만을 위한 전용처리장치
CPU처럼 독자적으로 주기억장치에 저장된 명령어를 처리할 수 있는 능력
입출력 채널은 CPU의 개입없이 입출력 처리를 수행
두가지 종류의 채널
선택채널(Selector Channel) : 한 번에 하나의 입출력 장치 제어
다중화채널(Multiplexor Channel) : 한 번에 여러 장치에 대한 입출력 제어, 저속장치에는 바이트 다중화 채널, 고속 장치에는 블록 다중화 채널
```

## 채널의 종류
```java
선택 채널 : 한 번에 단 하나의 입출력장치만을 선택적으로 지원. 전송속도가 빠른 입출력장치인 디스크나 CD-ROM 등의 입출력을 제어한다.

멀티플렉서 채널 : 한 번에 여러 입출력장치를 지원. 전송속도가 느린 키보드나 프린터 등을 제어하기 위한 채널이다.

블록 멀티플렉서 채널 : 셀렉터 채널과 바이트 멀티플렉서 채널을 결합한 형태로서, 전송속도가 빠른 입출력장치 여럿을 동시에 지원한다.
```

# [채널, 버퍼, 인터럽트](https://inuplace.tistory.com/279)
```java
채널과 버퍼, 인터럽트의 목적은 입출력장치의 작업과 주컴퓨터의 수행작업이 서로의 간섭없이 각자의 작업을 할 수 있도록 하여 CPU의 과부하를 막는데에 있다.

채널 : CPU의 간섭없이 독립적으로 메모리 특정 부분에 직접 자료를 전송하도록 해주는 회로(명령어, 레지스터 및 입출력 제어장치로 구성). 
CPU와 메모리를 공유하여 CPU로부터 명령을 받는다. 이러한 작업을 CPU와는 독립적으로 입출력 처리함으로서 작업의 병렬 수행이 가능하게 했다. 
기존의 사람(오퍼레이터)가 하던 작업을 자동화했다고 볼 수 있다.

버퍼 : 채널이 사용하는 메모리이자 CPU가 접근하는 메모리 상의 장소. 이 버퍼가 있어 자료를 공유하면서도 서로 간섭없이 각자의 작업을 수행할 수 
있게 된다. 연산하는 동안 읽거나 쓰는 것을 가능하게 하여 입출력 대기시간을 없앴다.


cf. CPU도 버퍼를 접근하고 채널도 버퍼를 접근하는 이상 간섭이 전혀 없을 수는 없고, 충돌 혹은 경쟁이 발생할 수도 있다. 이를 싸이클 스틸링이라는
것으로 해결하는데 이는 추후 DMA에 대해 다룰 때 알아보자.

인터럽트 : 채널을 통한 입출력은 CPU의 명령을 받아야 하고, CPU는 입출력 명령이 끝났는지 통보를 받아야 버퍼에 자료를 저장하고 CPU와 입출력장치 
간의 자료 공유가 가능해진다. 이를 위해 입출력 장치가 작업을 끝내면 CPU에 그 사실을 알리기 시작했는데, 이를 인터럽트라고 했다. 이에 따라 CPU에서
수행하는 처리를 ISR(Interupt Service Routine)이라고 한다. (이러한 처리는 프로그램이 아니라 하드웨어에 의하여 자동으로 호출되는 것이다.) 
인터럽트는 입출력 완료 뿐만 아니라 예외동작(파일종료, 테이프 끝, 패리티 오류 등)에서도 발생한다.
```
