# 기본
* [블로그](https://dailyheumsi.tistory.com/137?category=855210)
* 먼저, 하나의 코드가 프로그램이 되고, 프로그램이 프로세스가 되는 과정은 다음과 같다.
* 코드 작성 -- (컴파일) --> 오브젝트 파일 -- (링킹) --> 실행 파일(=프로그램) -- (로드) --> 메모리 적재 및 수행(=프로세스)

```java
컴파일러
​ 사용자가 작성한 원시코드를 컴퓨터가 읽을 수 있는 형태의 오브젝트 파일로 만드는 프로그램

어셈블러
​ 어셈블리어 코드를 기계어 코드로 변환시켜주는 프로그램.
​ 명확히 말하면, 어셈블러는 큰 의미 컴파일러 내부에 속한다.
​ 큰 의미의 컴파일러는 사실 다음과 같이 구성된다.
​ (원시 코드) -> (컴파일러) -> (어셈블리어 코드) -> (어셈블러) -> (기계어 코드 = 오브젝트 코드)

링커
​ 프로그램이 되기 위해 여러 개의 오브젝트 파일과 라이브러리를 엮는 과정(링킹)을 수행하는 프로그램

로더
​ 사용자가 프로그램을 실행하면, 메모리에 적재하는 일(로드)을 수행하는 프로그램

```

# 종류
1. 정적 컴파일러
* 빌드타임: 모든 코드를 기계어로 변경하여 실행파일로 만들어줌
* 런타임: 단순히 실행파일을 메모리에 올려 실행
* 장점: 특정한 시스템에 맞춰 기계어를 내보내므로 시스템에 최적화된 성능을 낼 수 있음
* 단점: 시스템마다 각각 컴파일해야하며 모든 환경에서 같은 동작을 보장하지 않음

2. 인터프리터
* 빌드타임: 프로그래머가 작성한 코드는 건드리지 않음
* 런타임: 번역기를 실행하여 실시간으로 기계어로 해석하여 실행함
* 장점: 인터프리터만 시스템마다 있다면 코드의 호환성은 보장됨
* 단점: 실시간 해석이  필요하므로 컴파일러보다 느린 성능

3. JIT컴파일러
* 빌드타임: 최적화된 중간언어로 변환
* 런타임: 중간언어를 실행하는 전용 프로그램인 미들웨어로 해석하여 실행
* 실시간 번역에 따른 시스템 부하를 줄여 실행성능을 높이면서도 시스템간의 호환성이 높은 장점
  * 실행환경에 더욱 최적화된 추가적인 장점도 존재한다.
* 장점: 한 번 컴파일한 코드의 캐싱, 자주 사용되는 코드만 검출하여 컴파일(adaptvie compilation)
* 단점: 실행시에 중간언어를 컴파일하느라 실행시간이 다소 지연된다는 점


## 자바
```java
JIT 컴파일러의 JIT는 Just-In-Time 의 약자로, 말 그대로 하면, "그 순간" 컴파일러라는 뜻인데, 
사용할 때 컴파일한다는 의미이다. 무슨 말인지 모를 것이다

이 JIT Compiler는 자바에서 대표적으로 사용하고 있다.

( 요즘은 Platform Independent 가 대세이기 때문에 .NET 도, 브라우저도 사용한다. )


Java에서 Compile 을 하면 Bytecode 로 변환된다.

( 이는 수도없이 들어봤을 것이다. 하지만 제대로 이해하지 못했을 것이다.. ?? )

이 바이트코드는 기계가 바로 읽을 수 있는 형태가 아니며, 

이 바이트코드는 실제 실행될 때 다시 한번 기계가 읽을 수 있는 형태(native code)로 interpreter 를 
통해 해석이 되어야 한다.



이렇게 한번에 기계어로 변환하지 않고 두번의 과정을 밟는 이유는 

Java 의 최대 장점 중 하나인 machine-independent 특성때문이다. 

platform independent 라고도 하는데, 요건 한번 작성하면 어떤 기계에서든 돌릴 수 있다는 특성을 말한다.




프로그래머 입장에서는 "야호!" 를 부를 수 있는 특성으로, 이 특성때문에 자바가 참 잘나간다.

프로그래머들은 별 걱정없이 프로그램을 작성해서 byte code 로 컴파일을 하고, 

JVM( Java Virtual Machine ) 이 이 bytecode 를 해당 기계에 맞는 기계어로 다시 번역하는 작업을 하는 것이다. 
기계어로 변환하는 작업은 OS 와 CPU 에 dependent 하기 때문에, JVM 만드는 사람들만 새로운 OS 와 CPU 에 대해서 긴장하면 되는 것.


이 JVM이 bytecode -> 기계어로 interpret(해석) 할 때,

반복되는 내용은 컴파일을 해서 사용하곤 한다.( 한번만 컴파일된다. )

요 과정을 JIT 컴파일링이라고 한다.

JIT 컴파일링은 실행될 때 최초 실행되기 때문에, 최초실행에서는 조금 느릴 수 있다.



JIT 컴파일러를 사용하면, 컴파일 없이 Interpret만 하는 경우보다 반복적인 작업을 할 때 훨씬 높은 성능을 낼 수 있다. 

( Vtable 을 만들어서 링크하는 방식이라고 한다. )




Java 뿐만이 아니라 요즘은 브라우저에도 JIT 컴파일러가 들어있다.



```
