# 문제
```java
◈ DES(Data Encryption Standard)
페이스텔(Feistel) 구조 16라운드
블록 64비트
키 길이 56비트 + 패리티 8비트 = 64비트
◈ AES(Advanced Encryption Standard)
SPN구조
블록 128비트(16바이트)
키 길이 128비트 – 10라운드
키 길이 192비트 – 12라운드
키 길이 256비트 – 14라운드


AES는 각 단계에서 바이트 치환(SubBytes), 행 이동(ShiftRows),
열 혼합(MixColumns), 키 덧셈(AddRoundKey)의 4단계를 거친
다.
단, 마지막 단계에서는 열 혼합을 제외한 3단계만 수행한다.

◈ AES(Advanced Encryption Standard)
SPN구조
블록 128비트(16바이트)
키 길이 128비트 – 10라운드
키 길이 192비트 – 12라운드
키 길이 256비트 – 14라운드


패딩(padding)이란 블럭 단위의 암호화 알고리즘에서 평문을 블
록 크기에 맞춰 나누어야 하는데, 평문이 블록의 배수가 아닐 때
부족한 길이만큼 임의의 비트열로 채워 블록의 배수로 만드는 과
정이다.
SHA-512 알고리즘은 1024비트 블록 단위로 처리한다. 따라서
전체가 1024의 배수가 되도록 패딩하면 된다.
원래 메시지 3940비트 + 원래 미시지 길이 128비트이므로, 현
재 길이는 4068비트이다.
1024 X 3 = 3072
1024 X 4 = 4096
4블록으로 나누기 위해 4096비트로 만들어야 하므로,
4096 - 4068 = 28 비트를 패딩하면 된다.
✠ ‘원래 메시지 길이 128비트’라는 부분은, 패딩하기 전 원래 메시
지의 길이를 기록해두는 부분이다.
패딩을 하기 전 원래 메시지의 길이가 몇 비트였는지 기록해두어,
어디까지가 원문 메시지이고 어디부터가 패딩된 비트열인지 구분
이 가능하다.


ᄀ. 운영모드에서 시프트 레지스터를 사용한다.
ᄂ. 패딩이 필요 없으며 평문 블록과 키 스트림을
XOR 연산하여 암호문을 생성한다.
ᄃ. 암호화는 각 블록에 독립적으로 적용되기 때문에,
블록 단위 에러 발생 시 해당 블록에 영향을 준다.
1 ᄀ 2 ᄀ, ᄂ
3 ᄂ, ᄃ 4 ᄀ, ᄂ, ᄃ

답 3
ᄂ. CTR(Counter, 카운터) 모드
1씩 증가하는 카운터 값을 암호화하여 스트림 암호를 생성한 후,
생성한 스트림 암호와 평문 블록을 XOR하여 암호문 블록을 생
성한다.
또한 CFB, OFB, CTR 모드는 패딩이 필요 없다.
ᄃ. CTR 모드에서 각각의 블록들은 독립적으로 처리가 가능하기 때
문에 병렬 처리가 가능하며 오류 전파가 없다.
<오답 체크> ᄀ. 시프트 레지스터를 사용하는 모드는 CFB(cipher
feedback, 암호 피드백) 모드이다.
CFB 모드는 CBC의 변형으로, 이전 단계의 암호문 블록을 암호
화한 후 현재의 평문 블록과 XOR 한다. 첫 번째 평문 블록의
경우에는 초기화 벡터(IV)를 암호화한 것과 XOR 한다.


DES에서 S-Box는 6비트 입력값을 받아 4비트 출력값을 출력한
다.
6비트 입력 중 앞·뒤 1번째와 6번째 비트가 행의 값
가운데 2, 3, 4, 5번째 비트가 열의 값이다.
S[0] ( X0, X1, X2, X3, X4, X5 ) -> ( Y0, Y1, Y2, Y3 ) 에서
밑줄이 없는 ‘ X0 X5 ‘ 가 행의 값
밑줄 친 ‘ X1, X2, X3, X4 ‘ 가 열의 값이다.
문제에서 입력값 S[0]: (0, 0, 1, 1, 1, 1) 이므로
행 01 = 1
열 0111 = 7
S-Box에서 행 3, 열 7에서 출력값을 찾으면 1이 된다.
S[0] (0, 0, 1, 1, 1, 1) = 1 = 0001(2)


메시지 인증 코드와 전자서명에 대한 설명으로 가장 적절하
지 않은 것은?
1 메시지 인증 코드와 전자서명 모두 무결성을 확인할 수
있다. 
2 메시지 인증 코드는 부인방지(non-repudiation) 기능을
제공한다. 
3 전자서명은 서명자를 인증하는 기능이 있다. 
4 메시지 인증 코드는 메시지와 비밀키를 사용한다.
∘ 메시지 인증코드는 무결성과 인증을 제공하는 암호 기술이다. ∘ 전자서명은 무결성을 확인하고, 인증과 부인방지를 하기 위한 암호 기술
이다. 2 메시지 인증코드는 부인방지 기능을 제공하지 못하는 반면
전자서명은 제공한다. 2



다음의 블록암호 운용모드 중 암호 과정에서는 암호화 함수
E를, 복호 과정에서는 E와 다른 복호화 함수 D를 필요로 하
는 것만을 모두 고르면?
보기 ᄀ. ECB ᄂ. CBC ᄃ. CFB ᄅ. OFB
1 ᄀ
2 ᄀ, ᄂ
3 ᄃ, ᄅ
4 ᄀ, ᄂ, ᄅ
2 ECB, CBC 모드는 복호화 시 복호화 함수를 사용한다. 반
면에 CFB, OFB, CTR 모드는 복호화 시 암호화 함수를 사용한다. 2


암호화 기법들에 대한 설명으로 옳지 않은 것은?
1 Feistel 암호는 전치(Permutation)와 대치(Substitution)
를 반복시켜 암호문에 평문의 통계적인 성질이나 암호키와
의 관계가 나타나지 않도록 한다. 2 Kerckhoff의 원리는 암호 해독자가 현재 사용되고 있는
암호 방식을 알고 있다고 전제한다. 3 AES는 암호키의 길이를 64비트, 128비트, 256비트 중에
서 선택한다. 4 2중 DES(Double DES) 암호 방식은 외형상으로는 DES
에 비해 2배의 키 길이를 갖지만, 중간일치공격 시 키의
길이가 1비트 더 늘어난 효과밖에 얻지 못한다.

 중간일치공격(Meet-in-the-Middle Attack) 
∘ 얼핏 보기에, 2중 DES에서는 키를 탐색하기 위한 탐색 횟수가 
번(하

나의 DES)에서 
번(2중 DES)으로 증가하는 것처럼 보인다. ∘ 그러나 중간일치공격과 같은 기지평문공격을 사용하면 탐색횟수가 
 가 아닌 
로 약간 증가할 뿐이다. 3 AES는 10, 12, 14라운드를 사용하며, 각 라운드에 대응하
는 키 크기는 128, 192, 256비트이다. 3


문 2. AES(Advanced Encryption Standard)에 대한 설명으로 옳은
것은? 1
1 DES(Data Encryption Standard)를 대신하여 새로운 표준이
된 대칭 암호 알고리즘이다.
2 Feistel 구조로 구성된다.
3 주로 고성능의 플랫폼에서 동작하도록 복잡한 구조로 고안되었다.
4 2001년에 국제표준화기구인 IEEE가 공표하였다.

[해설]
AES(Advanced Encryption Standard)
- DES가 페이스텔 구조인 반면, AES는 비페이스텔 구조.
- AES 선정 조건 : 속도가 빠를 것. 단순하고 구현하기 쉬울 것. 스마트
카드나 8비트 CPU 등의 계산력이 작은 플랫폼에서부터 워크스테이션과
같은 고성능의 플랫폼에 이르기까지 효율적으로 동작.
- 2001년에 미국의 표준화기구인 NIST(National Institute of Standard
and Technology)에 의해 공표.


6. 20.국가.9급
키 k에 대한 블록 암호 알고리즘 

, 평문블록 , 는 초
기벡터,    가 주어진 경우, 이때    ⋯  에 대해 암호블록 를   ⊕로 계산하는 운영모드
는? (단, ⊕는 배타적 논리합이다)
1 CBC
2 ECB
3 OFB
4 CTR

 OFB 모드와 CTR 모드
∘ OFB 모드 암호화

∘ CTR 모드 암호화

3 CTR 모드는 카운터를 암호화한 후 평문 블록과 암호화한
다. OFB 모드는 초기화벡터를 암호화한 후 평문 블록과 암호화한다. 보기
는 이를 수식으로 표현한 것이다.


문 14. 블록 암호 운용 모드에 대한 설명으로 옳지 않은 것은? 3
1 CFB는 블록 암호화를 병렬로 처리할 수 없다.
2 ECB는 IV(Initialization Vector)를 사용하지 않는다.
3 CBC는 암호문 블록에 오류가 발생한 경우 복호화 시 해당
블록만 영향을 받는다.
4 CTR는 평문 블록마다 서로 다른 카운터 값을 사용하여
암호문 블록을 생성한다.
[해설]
- CBC 모드는 비트 단위의 에러가 있는 암호문을 복호화하면, 1블록 전
체와 다음 블록의 대응하는 비트에 에러가 발생한다.


11. 20.국가.9급
NIST의 AES(Advanced Encryption Standard) 표준에 따
른 암호화 시 암호키(cipher key) 길이가 256비트일 때 필
요한 라운드 수는?
1 8
2 10
3 12
4 14

지안에듀 - 5 - 조현준 선생
 AES 암호의 구조도

4 AES 알고리즘은 라운드 수에 따라서 키 길이가 다르다.
(10라운드, 128비트), (12라운드, 192비트), (14라운드, 256비트)


문 2. AES(Advanced Encryption Standard)에 대한 설명으로 옳은
것은? 1
1 DES(Data Encryption Standard)를 대신하여 새로운 표준이
된 대칭 암호 알고리즘이다.
2 Feistel 구조로 구성된다.
3 주로 고성능의 플랫폼에서 동작하도록 복잡한 구조로 고안되었다.
4 2001년에 국제표준화기구인 IEEE가 공표하였다.

[해설]
AES(Advanced Encryption Standard)
- DES가 페이스텔 구조인 반면, AES는 비페이스텔 구조.
- AES 선정 조건 : 속도가 빠를 것. 단순하고 구현하기 쉬울 것. 스마트
카드나 8비트 CPU 등의 계산력이 작은 플랫폼에서부터 워크스테이션과
같은 고성능의 플랫폼에 이르기까지 효율적으로 동작.
- 2001년에 미국의 표준화기구인 NIST(National Institute of Standard
and Technology)에 의해 공표.


블록 암호 운영모드 중 OFB(Output FeedBack) 모드에 대
한 설명으로 가장 옳지 않은 것은 무엇인가?
1 암호기의 출력과 평문 블록을 XOR 연산하여 암호문 블록
을 생성한다. 2 암호문 블록 전송 도중 오류가 발생하더라도 다음 블록의
비트에 영향을 미치지 않는다. 3 CBC(Cipher Block Chaining) 모드나 CFB(Cipher
FeedBack) 모드와 마찬가지로 초기화 벡터(IV)를 사용
한다. 4 암호화와 복호화의 구조가 다르고 병렬 처리가 가능하다.  OFB 모드 특징
∘ 초기치가 바뀌면 암호문은 모두 바뀐다. ∘ 암호 알고리즘의 출력은 평문과 무관하다. ∘ 전송 중의 비트 오류가 전파되지 않는다.(에 비트 오류가 발생했다면, 복원된 의 값에만 영향을 미치며, 이후의 복원된 평문에는 아무런 영
향도 주지 않는다.) ∘ 암호문 에서 비트 손실이 발생하면 그 다음에 오는 평문은 모두 에러
가 발생하기 때문에 동기를 새로 맞추어야 한다. 4 OFB 모드는 암호화와 복호화의 구조가 동일하다. OFB 모
드는 병렬 처리가 불가능하다는 단점을 가지고 있다. 4


5. 19.경간부
SPN 구조와 Feistel 구조에 대한 설명 중 가장 옳은 것은 무
엇인가?
1 SPN 구조는 암호화와 복호화 과정이 동일하여 처리 속도
가 빠르다. 2 SPN 구조의 종류에는 AES, SEED, BLOWFISH 등이
있다. 3 Feistel 구조의 암호 강도를 결정짓는 요소는 평문 블록의
길이, 키의 길이, 라운드의 수이다. 4 Feistel 구조는 역변환 함수에 제약이 있으며, S-BOX와
P-BOX를 사용한다.
∘ Feistel구조는 3라운드 이상이며 짝수 라운드로 구성된다. 이러한 Feistel
구조는 라운드 함수와 관계없이 역변환이 가능하며, 두 번의 수행으로
블록간의 완전한 확산(diffusion)이 이루어진다. 알고리즘의 수행속도가
빠르고, 하드웨어 및 소프트웨어구현이 용이하고, 아직 구조상에 문제

점이 발견되고 있지 않다는 장점을 지니고 있다. ∘ SPN 구조는 라운드 함수가 역변환이 되어야 한다는 제약이 있지만 더
많은 병렬성(parallelism)을 제공하기 때문에 암⋅복호화 알고리즘의 고
속화를 요구하며, 컴퓨터 프로세서(CPU)가 더 많은 병렬성을 지원하게
된 현 추세에 부응하는 방식이라 할 수 있다. 1 SPN 구조는 암호화와 복호화 과정이 다르다. 2 AES,
SEED, BLOWFISH는 Feistel 구조이다. 4 SPN 구조의 특징이다. 3


다음 설명 중 가장 옳지 않은 것은 무엇인가?
1 5명이 서로 통신할 경우 대칭키 암호 알고리즘과 공개키
암호 알고리즘에서 필요한 키의 개수가 다르다. 2 일반적으로 대칭키 암호 알고리즘이 공개키 암호 알고리
즘보다 암호화 속도가 빠르다. 3 공개키 암호 알고리즘의 종류로는 RSA, ECC, DSA 등이
있다. 4 공개키 암호 알고리즘은 인증과 부인 방지를 제공한다.
∘ n명의 사람이 자신 외의 사람과 통신하고 싶을 경우 필요한 대칭키 알고
리즘에서 키의 수는    이고, 공개키 알고리즘에서 키의 수는
이다. 1 5명이 서로 통신할 경우 대칭키 암호 알고리즘과 공개키
암호 알고리즘에서 필요한 키의 개수는 10개로 동일하다. 1
```

# 하이브리드
```java
하이브리드 암호시스템에 대한 설명으로 가장 적절하지 않
은 것은?
1 대칭키 암호시스템과 공개키 암호시스템의 장점을 조합
하였다. 
2 평문 메시지는 대칭키 암호로 암호화한다.
3 암호화에서 사용하는 세션키는 의사난수 생성기를 이용
하여 생성한다. 
4 PGP(Pretty Good Privacy), SSL/TLS(Secure Socket
Layer/Transport Layer Security), RSA에서 하이브리
드 암호 시스템을 사용한다.
∘ 하이브리드 암호 시스템은 대칭키 암호와 공개키 암호의 장점을 살릴 수
있도록 조합한 방법이다. 일반적으로 서로 다른 2개의 방식을 조합하는
것을 하이브리드라고 한다. 하이브리드 암호 시스템에서는 메시지를 일단

고속의 대칭키 암호로 암호화한다. 그러면 메시지가 암호문으로 변환되기
때문에 메시지의 기밀성을 지킬 수 있게 된다. 다음에 대칭키 암호의 키
기밀성을 지키기 위해서 이 부분에 공개키 암호를 사용한다. 즉, 메시지를
암호화할 때 사용한 대칭키 암호키를 공개키 암호로 암호화한다. 
∘ SSL/TLS에서는 대칭키 암호, 공개키 암호, 일방향 해시함수, 메시지 인
증코드, 의사난수 생성기, 전자서명을 조합해서 안전한 통신을 수행한
다. 또한 SSL/TLS는 암호 스위트를 변경해서 보다 강력한 알고리즘을
사용할 수 있다. 4 PGP와 SSL/TLS는 하이브리드 암호시스템을 사용하나
RSA는 공개키 암호이다. 4
```

# 대칭키 암호의 장점
* 암/복호화 속도가 빠르다.
* 키의 크기가 작다.

# 대칭키 암호의 단점
* 키 관리가 어렵다.
  * 잘못된 키 값으로 복호화 하려고 했을 때 PC가 잘못을 인식하지 못한다.
* 키 분배가 힘들다.
 * 통신 상대가 많아질수록 키 관리가 어렵다. – n(n-1)/2개의 키 필요



# 대칭키 알고리즘의 종류
## DES, 3DES
* Data Encryption Standard. 약 70000조개의 키를 가짐. 더 이상 안전하지 않음.


## AES
* Advanced Encryption Standard(2000년). DES의 암호화 강도가 점점 약해지면서 새롭게 개발된 알고리즘. 키 길이 128/192/256비트 지원
  * 하드웨어의 발전으로 256비트 사용


## ARIA
* 국가보안기술연구소(NSRI) 주도로 학계, 국가정보원 등의 암호전문가들이 힘을 모아 개발한 국가 암호화 알고리즘. 키 길이128/192/256비트 지원


## SEED
* 개인정보와 같은 중요한 정보를 보호하기 위해 1999년 2월 한국인터넷진흥원과 국내 암호전문가들이 순수 국내기술로 개발한 128비트 블록 암호 알고리즘.

```java
런데 정부가 원하는 보안 기준에는 보안 알고리즘을 국내에서 제공하는 국산 알고리즘을 사용해야 한다는 조건을 붙인다. 
그 당시에는 SEED, 지금은 ARIA 알고리즘이 그 예인데 이렇게 했던 이유는 
암호화 알고리즘은 국가 기반 자원으로 분류되었기 때문이다. 
2000년대 초에 미국에서는 AES 암호화 알고리즘을 메인 알고리즘으로 사용했지만 미국 이외에서는 사용할 수 없었다
(미국이 오픈을 안시켰기 때문이다). 2000년대 중반부터 AES 알고리즘을 본격적으로 해외에서도 사용할 수 있었다. 
정부가 SEED나 ARIA를 고집하는 이유 중에 하나가 암호화 알고리즘의 국가 기간 자원화 때문도 있다. 
어찌되었던 MS가 만든 해외 어플리케이션인 IE6에는 당연히 SEED 알고리즘 지원이 없었다. 
그것을 해결하기 위해서는 외부의 플러그인 도움이 필요하고 딱 맞게 ActiveX를 이용해서
SEED 알고리즘을 지원할 수 있게 만들었던 것이다. 또한 키보드를 통한 해킹이나 화면을 
조작하는 위법행위로부터 보호받기 위해서는 다양한 보안 모듈이 필요했는데 그 시대에는 
가장 많이 사용하는 환경에서 돌아가게 하기 위해서 ActiveX를 쓰는 것이 당연시 되는 때였다.
즉, ActiveX의 범람은 어쩔 수 없는 시대적 배경이 있었다는 얘기다.

 
```


## LEA
* Lightweight Encryption Algorithm. 빅데이터, 클라우드 등 고속 환경 및 모바일기기 등 경량 환경에서 기밀성을 제공하기 위해 개발된 128비트 블록암호 알고리즘.



# 블록 암호 운영 모드
* ECB 모드
* CBC 모드
* CFB 모드
* OFB 모드
* CTR 모드


# 패딩
* 블록화 하여 암호화하는 블록 암호 특성상 평문의 길이가 블록보다 작을 경우가 생긴다.

## 패딩의 종류
### Zero Padding
* 평문의 길이가 블록 보다 작을 경우 ‘0’ 을 붙이는 방법.


### PKCS7 Padding
* 평문의 길이가 블록 보다 작을 경우 비어 있는 공간의 크기 값을 붙이는 방법.
